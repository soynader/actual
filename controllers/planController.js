function _0x4bdb() { const _0xf1731 = ['query', 'rz_payment_id', 'contactlimit', 'https://api.paystack.co/transaction/', 'transaction\x20error', 'zarnipal', 'setKeys', 'order\x20id\x20and\x20plan\x20required', 'Order\x20id\x20and\x20plan\x20required', '2zINadK', 'server\x20error', 'https://api-m.sandbox.paypal.com/v1/oauth2/token', 'uid', '7900oXumfK', 'createNewPaymentRequest', 'data', 'This\x20plan\x20is\x20not\x20free', 'Plan\x20was\x20deleted', 'Sorry\x20this\x20plan\x20was\x20not\x20found', 'getOnePayedPaymentDetails', 'json', 'allow_data_extract', 'toString', 'msglimit', '10385669pqdGjh', '10238512xDOyoY', '756807FMaEfe', 'SELECT\x20*\x20FROM\x20payment_gateways\x20WHERE\x20code\x20=\x20?', 'email', 'requestPayment', 'round', 'Basic\x20', 'longurl', 'payment_request_id', 'Offline\x20payment', 'isSandboxMode', 'status', 'length', 'instamojo', 'This\x20plan\x20was\x20not\x20found.\x20Contact\x20custom\x20support.', 'allowschedulemsg', 'amount', 'payment_request', 'from', 'Thank\x20for\x20your\x20payment\x20you\x20are\x20good\x20to\x20go\x20now.', 'allow_multi_instance', 'Invalid\x20request', 'payment_id', 'Zarnipal', 'SELECT\x20*\x20FROM\x20user\x20WHERE\x20uid\x20=\x20?', '17982MNylNH', 'success', '6126320UCuotL', '<h1>Payment\x20Success\x0aYou\x20can\x20login\x20your\x20account\x20now</h1>', 'Authority', 'DELETE\x20FROM\x20plan\x20WHERE\x20id\x20=\x20?', 'planid', '/api/plan/verify-zarnipal?uid=', 'allowapi', 'exchange_rate', 'Instamojo', 'POST', 'Paystack', '/api/plan/verify-instamojo?uid=', 'Razorpay', 'verifyPayment', '7767lSlwON', 'Paypal', 'please\x20send\x20required\x20fields', 'body', 'GET', 'name', 'now', 'description', 'instance_limit', 'SELECT\x20*\x20FROM\x20plan\x20WHERE\x20id\x20=\x20?', 'Action\x20denied\x20in\x20demo\x20mode', 'There\x20is\x20no\x20plan\x20found\x20you\x20requested\x20for', 'mobile', 'templetlimit', 'plantype', 'Your\x20plan\x20was\x20activated\x20you\x20are\x20good\x20to\x20go\x20now.', '4640EEBPYV', 'URI', 'env', 'log', 'paypal', 'SELECT\x20*\x20from\x20web', '2514bzBnar', 'playDays', 'SELECT\x20*\x20FROM\x20web', 'INR', 'base64', 'price', 'Credit', 'plan_id', 'Bearer\x20', 'send', 'payment', 'stringify', 'payment_keys', 'Plan\x20was\x20addedd', '&plan_id=', 'Offline', 'decode', 'plan']; _0x4bdb = function () { return _0xf1731; }; return _0x4bdb(); } (function (_0x504cb3, _0x4b9da4) { const _0x47cad1 = _0x5260, _0x4df8f9 = _0x504cb3(); while (!![]) { try { const _0x2932fe = parseInt(_0x47cad1(0x1c5)) / 0x1 + parseInt(_0x47cad1(0x206)) / 0x2 * (-parseInt(_0x47cad1(0x217)) / 0x3) + parseInt(_0x47cad1(0x1c7)) / 0x4 + -parseInt(_0x47cad1(0x1e5)) / 0x5 * (-parseInt(_0x47cad1(0x1eb)) / 0x6) + -parseInt(_0x47cad1(0x215)) / 0x7 + parseInt(_0x47cad1(0x216)) / 0x8 + -parseInt(_0x47cad1(0x1d5)) / 0x9 * (parseInt(_0x47cad1(0x20a)) / 0xa); if (_0x2932fe === _0x4b9da4) break; else _0x4df8f9['push'](_0x4df8f9['shift']()); } catch (_0x1168b9) { _0x4df8f9['push'](_0x4df8f9['shift']()); } } }(_0x4bdb, 0xc36f6)); import _0x48c159 from '../database/dbpromise.js'; import { convertToMySQLDate, updatePlan, createOrder, rzCapturePayment } from '../functions/function.js'; import _0x45ecb7 from 'node-fetch'; import { setting } from './zarnipal/zarnipal.js'; function _0x5260(_0x197021, _0x5c407f) { const _0x4bdb81 = _0x4bdb(); return _0x5260 = function (_0x5260be, _0x567502) { _0x5260be = _0x5260be - 0x1b4; let _0x1770a6 = _0x4bdb81[_0x5260be]; return _0x1770a6; }, _0x5260(_0x197021, _0x5c407f); } import *as _0x512f93 from './instamojo/instamojo.js'; const add = async (_0x301b07, _0x2e0f05) => { const _0x4cb765 = _0x5260; try { const _0x18b0db = _0x301b07['body']; if (!_0x18b0db['name'] || !_0x18b0db[_0x4cb765(0x214)] || !_0x18b0db[_0x4cb765(0x1ff)] || !_0x18b0db[_0x4cb765(0x1e2)] || _0x18b0db['playDays'] < 0x1 || !_0x18b0db[_0x4cb765(0x1e3)]) return _0x2e0f05[_0x4cb765(0x211)]({ 'msg': 'Please\x20fill\x20all\x20required\x20fields' }); await _0x48c159('INSERT\x20INTO\x20plan\x20(\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20name,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20instance,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20price,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20msglimit,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20contactlimit,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20templetlimit,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20allowapi,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20allowchatbot,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20allowbulkmsg,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20allowschedulemsg,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20allow_data_extract,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20allow_multi_instance,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20planexpire\x0a\x20\x20\x20\x20\x20\x20\x20\x20)\x20VALUE\x20(?,?,?,?,?,?,?,?,?,?,?,?,?)', [_0x18b0db[_0x4cb765(0x1da)], _0x18b0db[_0x4cb765(0x1dd)], _0x18b0db[_0x4cb765(0x1f0)], _0x18b0db['msglimit'], _0x18b0db['contactlimit'], _0x18b0db['templetlimit'], _0x18b0db[_0x4cb765(0x1cd)], _0x18b0db['allowchatbot'], _0x18b0db['allowbulkmsg'], _0x18b0db[_0x4cb765(0x1bb)], _0x18b0db[_0x4cb765(0x212)], _0x18b0db[_0x4cb765(0x1c0)], _0x18b0db[_0x4cb765(0x1ec)]]), _0x2e0f05[_0x4cb765(0x211)]({ 'msg': _0x4cb765(0x1f8), 'success': !![] }); } catch (_0x138150) { console[_0x4cb765(0x1e8)](_0x138150), _0x2e0f05[_0x4cb765(0x211)]({ 'msg': _0x4cb765(0x207), 'err': _0x138150 }); } }, getAllPlan = async (_0x581271, _0x20dbf9) => { const _0x260655 = _0x5260; try { const _0x2f786c = await _0x48c159('SELECT\x20*\x20FROM\x20plan', []); _0x20dbf9[_0x260655(0x211)]({ 'data': _0x2f786c, 'success': !![] }); } catch (_0x484e14) { console[_0x260655(0x1e8)](_0x484e14), _0x20dbf9[_0x260655(0x211)]({ 'msg': 'server\x20error', 'err': _0x484e14 }); } }, delPlan = async (_0x3f7c87, _0x95261a) => { const _0x44b046 = _0x5260; try { return _0x95261a[_0x44b046(0x211)]({ 'msg': _0x44b046(0x1df) }); await _0x48c159(_0x44b046(0x1ca), [_0x3f7c87[_0x44b046(0x1d8)][_0x44b046(0x1cb)]]), _0x95261a['json']({ 'success': !![], 'msg': _0x44b046(0x20e) }); } catch (_0x20e37e) { console[_0x44b046(0x1e8)](_0x20e37e), _0x95261a[_0x44b046(0x211)]({ 'msg': _0x44b046(0x207), 'err': _0x20e37e }); } }, payWithPaypal = async (_0x2766cc, _0x1f64d3) => { const _0x39a1b1 = _0x5260; try { const _0x18201c = _0x2766cc[_0x39a1b1(0x1d8)]['order_id'], _0x3952cc = _0x2766cc[_0x39a1b1(0x1d8)][_0x39a1b1(0x1fc)]; if (!_0x3952cc || !_0x18201c) return _0x1f64d3[_0x39a1b1(0x211)]({ 'msg': _0x39a1b1(0x204) }); const _0x2bce49 = await _0x48c159(_0x39a1b1(0x1ea), []), _0x390b1a = await _0x48c159(_0x39a1b1(0x218), [_0x39a1b1(0x1e9)]), _0x2dcbdb = _0x390b1a[0x0][_0x39a1b1(0x1c2)], _0x31a1a2 = _0x390b1a[0x0][_0x39a1b1(0x1f7)]; let _0x34f792 = await _0x45ecb7(_0x39a1b1(0x208), { 'method': _0x39a1b1(0x1d0), 'body': 'grant_type=client_credentials', 'headers': { 'Authorization': _0x39a1b1(0x21c) + Buffer[_0x39a1b1(0x1be)](_0x2dcbdb + ':' + _0x31a1a2, 'binary')[_0x39a1b1(0x213)](_0x39a1b1(0x1ef)) } }), _0x562cd0 = await _0x34f792['json'](), _0x2a3f66 = await _0x45ecb7('https://api-m.sandbox.paypal.com/v1/checkout/orders/' + _0x18201c, { 'method': _0x39a1b1(0x1d9), 'headers': { 'Authorization': _0x39a1b1(0x1f3) + _0x562cd0['access_token'] } }), _0x1f3f37 = await _0x2a3f66['json'](); if (_0x1f3f37[_0x39a1b1(0x1b7)] === 'COMPLETED') await updatePlan(_0x2766cc[_0x39a1b1(0x1fb)][_0x39a1b1(0x209)], JSON['stringify'](_0x3952cc)), await createOrder(_0x2766cc[_0x39a1b1(0x1fb)][_0x39a1b1(0x209)], _0x39a1b1(0x1d6), _0x3952cc[_0x39a1b1(0x1f0)], JSON['stringify'](_0x1f3f37)), _0x1f64d3[_0x39a1b1(0x211)]({ 'success': !![], 'msg': 'Thank\x20for\x20your\x20payment\x20you\x20are\x20good\x20to\x20go\x20now.' }); else { _0x1f64d3[_0x39a1b1(0x211)]({ 'success': ![], 'msg': error_description }); return; } } catch (_0x847ba2) { _0x1f64d3[_0x39a1b1(0x211)]({ 'err': _0x847ba2, 'msg': _0x39a1b1(0x207) }), console[_0x39a1b1(0x1e8)](_0x847ba2); } }, payWithPayStack = async (_0x28e1dd, _0x5e9a75) => { const _0x39f0c8 = _0x5260; try { const _0x6071ef = _0x28e1dd['body'][_0x39f0c8(0x1fc)], _0x37452c = _0x28e1dd['body']['trans_id']; if (!_0x6071ef || !_0x37452c) return _0x5e9a75[_0x39f0c8(0x211)]({ 'msg': _0x39f0c8(0x205) }); const _0x1b3fff = await _0x48c159(_0x39f0c8(0x1de), [_0x6071ef['id']]); if (_0x1b3fff[_0x39f0c8(0x1b8)] < 0x1) return _0x5e9a75[_0x39f0c8(0x211)]({ 'msg': 'Sorry\x20this\x20plan\x20was\x20not\x20found' }); const _0xbbdea0 = await _0x48c159('SELECT\x20*\x20FROM\x20payment_gateways\x20WHERE\x20code\x20=\x20?', ['paystack']), _0x1f2ab5 = _0xbbdea0[0x0], _0x15e273 = _0x1f2ab5[_0x39f0c8(0x1c2)], _0x35e5b2 = _0x37452c; var _0x12469e = await _0x45ecb7(_0x39f0c8(0x200) + _0x35e5b2, { 'headers': { 'Authorization': 'Bearer\x20' + _0x15e273, 'Content-Type': 'application/json' } }); const _0x1a9c3c = await _0x12469e['json'](); if (_0x1a9c3c[_0x39f0c8(0x20c)]?.[_0x39f0c8(0x1b7)] !== 'success') { _0x5e9a75[_0x39f0c8(0x211)]({ 'success': ![], 'msg': _0x1a9c3c['message'] }); return; } await updatePlan(_0x28e1dd[_0x39f0c8(0x1fb)][_0x39f0c8(0x209)], JSON[_0x39f0c8(0x1f6)](_0x1b3fff[0x0])), await createOrder(_0x28e1dd[_0x39f0c8(0x1fb)][_0x39f0c8(0x209)], _0x39f0c8(0x1d1), _0x1b3fff[0x0]['price'], JSON[_0x39f0c8(0x1f6)](_0x1a9c3c)), _0x5e9a75['json']({ 'success': !![], 'msg': 'Thank\x20for\x20your\x20payment\x20you\x20are\x20good\x20to\x20go\x20now.' }); } catch (_0x241214) { console[_0x39f0c8(0x1e8)](_0x241214), _0x5e9a75[_0x39f0c8(0x211)]({ 'msg': _0x39f0c8(0x207), 'err': _0x241214 }); } }, payWithRazorpay = async (_0x4e6183, _0xf801b4) => { const _0x3ac8a5 = _0x5260; try { if (!_0x4e6183[_0x3ac8a5(0x1d8)][_0x3ac8a5(0x1fe)] || !_0x4e6183['body'][_0x3ac8a5(0x1fc)] || !_0x4e6183[_0x3ac8a5(0x1d8)][_0x3ac8a5(0x1bc)]) return _0xf801b4['json']({ 'msg': _0x3ac8a5(0x1d7) }); const _0x198140 = await _0x48c159(_0x3ac8a5(0x1ea), []), _0x1db507 = _0x198140[0x0], _0xac69b9 = _0x4e6183[_0x3ac8a5(0x1d8)][_0x3ac8a5(0x1fc)], _0x53f713 = _0x4e6183[_0x3ac8a5(0x1d8)][_0x3ac8a5(0x1e1)], _0x5b1943 = await _0x48c159(_0x3ac8a5(0x1de), [_0xac69b9['id']]), _0x6a0404 = await _0x48c159(_0x3ac8a5(0x218), ['razorpay']); if (_0x5b1943[_0x3ac8a5(0x1b8)] < 0x1) return _0xf801b4['json']({ 'msg': _0x3ac8a5(0x20f) }); const _0x47410d = parseInt(_0x4e6183[_0x3ac8a5(0x1d8)][_0x3ac8a5(0x1bc)]) / parseInt(_0x1db507[_0x3ac8a5(0x1ce)]) * 0x50, _0xf67da3 = await rzCapturePayment(_0x4e6183[_0x3ac8a5(0x1d8)][_0x3ac8a5(0x1fe)], Math[_0x3ac8a5(0x21b)](_0x47410d) * 0x64, _0x6a0404[0x0][_0x3ac8a5(0x1c2)], _0x6a0404[0x0][_0x3ac8a5(0x1f7)]); if (!_0xf67da3) { _0xf801b4[_0x3ac8a5(0x211)]({ 'success': ![], 'msg': _0xf67da3[_0x3ac8a5(0x1dc)] }); return; } await updatePlan(_0x4e6183[_0x3ac8a5(0x1fb)][_0x3ac8a5(0x209)], JSON[_0x3ac8a5(0x1f6)](_0x5b1943[0x0])), await createOrder(_0x4e6183[_0x3ac8a5(0x1fb)]['uid'], _0x3ac8a5(0x1d3), _0x5b1943[0x0][_0x3ac8a5(0x1f0)], JSON[_0x3ac8a5(0x1f6)](_0xf67da3)), _0xf801b4[_0x3ac8a5(0x211)]({ 'success': !![], 'msg': _0x3ac8a5(0x1bf) }); } catch (_0xe14f66) { console[_0x3ac8a5(0x1e8)](_0xe14f66), _0xf801b4[_0x3ac8a5(0x211)]({ 'msg': _0x3ac8a5(0x207), 'err': _0xe14f66 }); } }, payWithPaytm = async (_0x43f6de, _0x451467) => { const _0x535d46 = _0x5260; try { } catch (_0x19504f) { console[_0x535d46(0x1e8)](_0x19504f), _0x451467['json']({ 'msg': _0x535d46(0x207), 'err': _0x19504f }); } }, payWithZarnipal = async (_0x7da13f, _0x1118fb) => { const _0x4ad55d = _0x5260; try { const _0xb8ed6 = Date[_0x4ad55d(0x1db)](), _0x57fa25 = _0x7da13f[_0x4ad55d(0x1d8)][_0x4ad55d(0x1bc)], _0x2d758b = _0x7da13f['body'][_0x4ad55d(0x1dc)], _0x19ef89 = _0x7da13f['body'][_0x4ad55d(0x1fc)]; if (!_0x57fa25 || !_0x2d758b || !_0x19ef89) return _0x1118fb['json']({ 'msg': _0x4ad55d(0x1d7) }); await _0x48c159('UPDATE\x20payment_gateways\x20SET\x20payment_keys\x20=\x20?\x20WHERE\x20code\x20=\x20?\x20', [_0xb8ed6, _0x4ad55d(0x202)]); const _0x2db71e = await _0x48c159(_0x4ad55d(0x218), [_0x4ad55d(0x202)]), _0x3c2e01 = await _0x48c159('SELECT\x20*\x20FROM\x20user\x20WHERE\x20uid\x20=\x20?', [_0x7da13f[_0x4ad55d(0x1fb)][_0x4ad55d(0x209)]]), _0xcf4047 = await _0x48c159(_0x4ad55d(0x1ed), []), _0x5c6ad5 = new setting(_0x2db71e[0x0][_0x4ad55d(0x1c2)], ![]), _0x539c96 = _0x19ef89[_0x4ad55d(0x1f0)] / _0xcf4047[0x0][_0x4ad55d(0x1ce)] * 0x50, _0x172275 = await _0x5c6ad5[_0x4ad55d(0x21a)]({ 'amount': Math[_0x4ad55d(0x21b)](_0x539c96), 'callbackUrl': process[_0x4ad55d(0x1e7)]['URI'] + (_0x4ad55d(0x1cc) + _0x7da13f[_0x4ad55d(0x1fb)]['uid'] + '&plan_id=' + _0x19ef89['id']), 'description': _0x19ef89['name'] }), _0x154908 = _0x5c6ad5['startPayUrl'] + _0x172275; _0x1118fb['json']({ 'success': !![], 'url': _0x154908 }); } catch (_0x2f8ded) { console[_0x4ad55d(0x1e8)](_0x2f8ded), _0x1118fb[_0x4ad55d(0x211)]({ 'msg': _0x4ad55d(0x207), 'err': _0x2f8ded }); } }, verifyZarnipal = async (_0x1562b8, _0x599328) => { const _0x151ba1 = _0x5260; try { !_0x1562b8['query'][_0x151ba1(0x1c9)] && _0x599328['json']({ 'success': ![], 'msg': _0x151ba1(0x1c1) }); const _0x486994 = _0x1562b8[_0x151ba1(0x1fd)][_0x151ba1(0x1f2)], _0xfae72c = await _0x48c159('SELECT\x20*\x20FROM\x20plan\x20WHERE\x20id\x20=\x20?', [_0x486994]); if (_0xfae72c['length'] < 0x1) return _0x599328['json']({ 'msg': _0x151ba1(0x1ba) }); const _0x47cd53 = await _0x48c159(_0x151ba1(0x1ed), []), _0x4d608c = await _0x48c159(_0x151ba1(0x218), [_0x151ba1(0x202)]), _0x18226b = _0xfae72c[0x0][_0x151ba1(0x1f0)] / _0x47cd53[0x0][_0x151ba1(0x1ce)] * 0x50, _0x3e7a52 = new setting(_0x4d608c[0x0][_0x151ba1(0x1c2)], ![]), _0x4ed05c = await _0x3e7a52[_0x151ba1(0x1d4)]({ 'authority': _0x1562b8[_0x151ba1(0x1fd)]['Authority'], 'amount': _0x18226b }); await updatePlan(_0x1562b8[_0x151ba1(0x1fd)][_0x151ba1(0x209)], JSON[_0x151ba1(0x1f6)](_0xfae72c[0x0])), await createOrder(_0x1562b8[_0x151ba1(0x1fd)][_0x151ba1(0x209)], _0x151ba1(0x1c3), _0xfae72c[0x0]['price'], JSON['stringify'](_0x4ed05c)), console[_0x151ba1(0x1e8)](_0x4ed05c), _0x4ed05c && _0x599328[_0x151ba1(0x1f4)](_0x151ba1(0x1c8)); } catch (_0x14d040) { console[_0x151ba1(0x1e8)](_0x14d040), _0x599328['json']({ 'msg': _0x151ba1(0x201), 'err': _0x14d040 }); } }, payWithInstamojo = async (_0x45a5f3, _0xe413de) => { const _0x435992 = _0x5260; try { const _0x2ac69e = _0x45a5f3['body'][_0x435992(0x1fc)], _0x3a1572 = await _0x48c159(_0x435992(0x1ed), []), _0x424d33 = await _0x48c159(_0x435992(0x1c4), [_0x45a5f3[_0x435992(0x1fb)][_0x435992(0x209)]]), _0x417df1 = _0x424d33[0x0], _0x11101d = await _0x48c159(_0x435992(0x218), [_0x435992(0x1b9)]); _0x512f93[_0x435992(0x1b6)](!![]), _0x512f93[_0x435992(0x203)](_0x11101d[0x0][_0x435992(0x1c2)], _0x11101d[0x0]['payment_keys']); const _0xd8ca2a = { 'purpose': _0x2ac69e[_0x435992(0x1da)], 'amount': _0x2ac69e['price'] + _0x3a1572[0x0]['exchange_rate'] * 0x50, 'currency': _0x435992(0x1ee), 'buyer_name': _0x417df1[_0x435992(0x1da)], 'email': _0x417df1[_0x435992(0x219)], 'phone': null, 'send_email': ![], 'send_sms': ![], 'allow_repeated_payments': ![], 'webhook': '', 'redirect_url': process[_0x435992(0x1e7)][_0x435992(0x1e6)] + _0x435992(0x1d2) + _0x45a5f3[_0x435992(0x1fb)][_0x435992(0x209)] + _0x435992(0x1f9) + _0x2ac69e['id'] }, _0x1ec8ec = _0x512f93['PaymentData'](_0xd8ca2a), _0x44582d = await _0x512f93[_0x435992(0x20b)](_0x1ec8ec); _0x44582d[_0x435992(0x1c6)] ? _0xe413de['json']({ 'success': !![], 'url': _0x44582d?.[_0x435992(0x1bd)]?.[_0x435992(0x21d)] }) : _0xe413de['json']({ 'success': ![], 'msg': 'It\x20seems\x20instamojo\x20api\x20keys\x20are\x20not\x20valid' }), _0xe413de[_0x435992(0x211)]({ 'response': _0x44582d }); } catch (_0x5045ca) { console[_0x435992(0x1e8)](_0x5045ca), _0xe413de[_0x435992(0x211)]({ 'msg': _0x435992(0x207), 'err': _0x5045ca }); } }, verifyInstamojo = async (_0x2b88e0, _0x1cf2b9) => { const _0x10bdbd = _0x5260; try { const _0x527ba7 = _0x2b88e0[_0x10bdbd(0x1fd)]['payment_id'], _0xe98b6e = _0x2b88e0[_0x10bdbd(0x1fd)][_0x10bdbd(0x1b4)], _0x241d25 = _0x2b88e0[_0x10bdbd(0x1fd)][_0x10bdbd(0x209)], _0x4637c4 = _0x2b88e0[_0x10bdbd(0x1fd)][_0x10bdbd(0x1f2)]; if (!_0x527ba7 || !_0xe98b6e || !_0x4637c4 || !_0x241d25) return _0x1cf2b9[_0x10bdbd(0x211)]({ 'msg': _0x10bdbd(0x1c1) }); const _0x47a5c8 = await _0x48c159(_0x10bdbd(0x218), [_0x10bdbd(0x1b9)]), _0x55385e = await _0x48c159(_0x10bdbd(0x1de), [_0x4637c4]); if (_0x55385e[_0x10bdbd(0x1b8)] < 0x1) return _0x1cf2b9[_0x10bdbd(0x211)]({ 'msg': 'This\x20plan\x20was\x20not\x20found.\x20Contact\x20custom\x20support.' }); _0x512f93[_0x10bdbd(0x1b6)](![]); const _0x332068 = await _0x512f93[_0x10bdbd(0x210)](_0xe98b6e, _0x527ba7, _0x47a5c8[0x0][_0x10bdbd(0x1c2)], _0x47a5c8[0x0][_0x10bdbd(0x1f7)], ![]); _0x332068[_0x10bdbd(0x1c6)] && _0x332068[_0x10bdbd(0x1bd)]?.[_0x10bdbd(0x1f5)]?.['status'] == _0x10bdbd(0x1f1) ? (await updatePlan(_0x241d25, JSON['stringify'](_0x55385e[0x0])), await createOrder(_0x241d25, _0x10bdbd(0x1cf), _0x55385e[0x0][_0x10bdbd(0x1f0)], JSON[_0x10bdbd(0x1f6)](_0x332068[_0x10bdbd(0x1bd)]?.[_0x10bdbd(0x1f5)])), _0x1cf2b9[_0x10bdbd(0x1f4)]('<h1>Payment\x20Success\x0aYou\x20can\x20login\x20your\x20account\x20now</h1>')) : _0x1cf2b9['json']({ 'msg': 'Transaction\x20failed,\x20check\x20your\x20API\x20keys' }); } catch (_0x374eba) { console[_0x10bdbd(0x1e8)](_0x374eba), _0x1cf2b9[_0x10bdbd(0x211)]({ 'msg': _0x10bdbd(0x207), 'err': _0x374eba }); } }, payFree = async (_0x5b2a18, _0x264413) => { const _0x581033 = _0x5260; try { const _0xb16a09 = _0x5b2a18[_0x581033(0x1d8)][_0x581033(0x1f2)], _0x4854eb = _0x5b2a18['decode'][_0x581033(0x209)]; if (!_0xb16a09) return _0x264413['json']({ 'msg': 'No\x20plan\x20provided' }); const _0x4e9c66 = await _0x48c159(_0x581033(0x1de), [_0xb16a09]); if (_0x4e9c66[_0x581033(0x1b8)] < 0x1) return _0x264413[_0x581033(0x211)]({ 'msg': _0x581033(0x1e0) }); if (_0x4e9c66[0x0]['price'] > 0x0) return _0x264413[_0x581033(0x211)]({ 'mgs': _0x581033(0x20d) }); await updatePlan(_0x4854eb, JSON[_0x581033(0x1f6)](_0x4e9c66[0x0])), await createOrder(_0x4854eb, _0x581033(0x1fa), _0x4e9c66[0x0][_0x581033(0x1f0)], JSON[_0x581033(0x1f6)](_0x581033(0x1b5))), _0x264413['json']({ 'success': !![], 'msg': _0x581033(0x1e4) }); } catch (_0x5f5994) { console[_0x581033(0x1e8)](_0x5f5994), _0x264413[_0x581033(0x211)]({ 'msg': _0x581033(0x207), 'err': _0x5f5994 }); } }; export { add, getAllPlan, payFree, delPlan, verifyInstamojo, payWithPaypal, payWithInstamojo, verifyZarnipal, payWithPayStack, payWithRazorpay, payWithZarnipal };